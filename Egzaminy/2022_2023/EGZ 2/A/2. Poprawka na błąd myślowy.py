# To jest Åºle BRUH

def dominance(P):

    ilosc_pkt = len(P)
    MAX_dominance = 0

    max_y,max_x = 0,0

    for pkt in P:
        x,y = pkt

        max_x = max(max_x,x)
        max_y = max(max_y,y)

    Y_amnt = [0]*(max_y+1)
    X_amnt = [0] * (max_x + 1)

    for pkt in P:
        x, y = pkt

        if x < max_x:
            X_amnt[x+1] += 1
        if y < max_y:
            Y_amnt[y+1] += 1



    for i in range(1,max_x+1):
        X_amnt[i] += X_amnt[i-1]
    for i in range(1,max_y+1):
        Y_amnt[i] += Y_amnt[i-1]

    for pkt in P:
        x,y = pkt

        MAX_dominance = max(MAX_dominance,min(X_amnt[x],Y_amnt[y]))

    return MAX_dominance


P = [(1,3),
(3,4),
(4,2),
(2,2)]
P_3 = [(342, 427), (152, 461), (218, 391), (368, 189), (98, 183), (52, 261), (42, 443), (136, 193), (186, 323), (304, 77), (398, 299), (4, 497), (102, 147), (36, 237), (358, 163), (348, 473), (338, 459), (132, 33), (474, 359), (420, 97), (270, 151), (204, 69), (498, 367), (72, 405), (10, 75), (328, 473), (126, 107), (20, 293), (446, 263), (484, 433), (94, 71), (444, 293), (266, 487), (444, 341), (146, 355), (312, 377), (446, 483), (88, 57), (230, 71), (20, 145), (446, 463), (56, 129), (322, 403), (296, 449), (462, 415), (104, 193), (70, 135), (308, 493), (478, 139), (40, 309), (494, 415), (220, 369), (190, 71), (344, 253), (78, 195), (360, 365), (210, 211), (144, 285), (142, 315), (152, 209), (254, 267), (120, 445), (310, 151), (436, 401), (110, 107), (40, 233), (126, 499), (256, 73), (498, 407), (316, 429), (174, 155), (464, 121), (98, 311), (212, 257), (90, 99), (48, 477), (246, 491), (256, 249), (18, 303), (112, 357), (358, 127), (212, 413), (90, 103), (468, 353), (482, 287), (164, 489), (54, 439), (268, 93), (466, 299), (232, 365), (110, 435), (64, 429), (90, 451), (440, 409), (394, 439), (296, 417), (294, 387), (84, 225), (282, 147), (136, 437), (370, 403), (140, 489), (342, 15), (312, 65), (46, 163), (140, 5), (198, 223), (124, 197), (350, 223), (120, 473), (338, 295), (440, 353), (458, 323), (240, 141), (242, 67), (68, 121), (414, 47), (424, 209), (362, 331), (404, 241), (38, 47), (428, 465), (494, 103), (476, 481), (410, 371), (40, 213), (450, 383), (172, 153), (62, 27), (432, 25), (62, 447), (8, 157), (186, 427), (288, 81), (26, 111), (140, 337), (110, 343), (236, 333), (486, 231), (212, 49), (86, 79), (260, 53), (214, 83), (500, 409), (82, 247), (356, 21), (70, 275), (432, 365), (282, 35), (320, 261), (150, 447), (200, 285), (10, 191), (280, 69), (398, 391), (44, 329), (494, 19), (44, 457), (314, 255), (424, 337), (278, 275), (172, 165), (146, 279), (252, 337), (210, 75), (108, 261), (138, 319), (348, 29), (46, 387), (16, 137), (6, 403), (28, 409), (90, 463), (360, 317), (134, 443), (120, 165), (62, 355), (300, 293), (110, 407), (408, 121), (206, 147), (260, 21), (298, 279), (24, 229), (198, 179), (272, 77), (434, 399), (44, 149), (242, 395), (288, 473), (348, 133), (334, 387), (420, 113), (130, 143), (276, 425), (122, 359), (384, 21), (26, 451), (456, 57), (118, 267), (24, 433), (42, 251), (408, 365), (434, 491), (224, 305), (226, 87), (452, 197), (54, 19), (156, 133), (222, 283), (168, 25), (334, 215), (292, 189), (214, 439), (252, 401), (334, 395), (212, 121), (446, 143), (372, 145), (378, 435), (156, 121), (134, 307), (156, 325), (354, 55), (208, 345), (342, 363), (16, 173), (130, 23), (316, 177), (250, 327), (308, 161), (434, 75), (332, 357), (498, 203), (420, 33), (198, 11), (388, 85), (34, 255), (176, 497), (334, 343), (220, 337), (294, 343), (300, 465), (434, 191), (380, 289), (18, 271), (400, 453), (382, 251), (232, 249), (306, 371), (360, 49), (154, 103), (336, 85), (382, 355), (496, 317), (174, 387), (300, 181), (230, 199), (28, 473), (470, 431), (428, 461), (398, 407), (388, 405), (110, 431), (224, 185), (10, 123), (344, 261), (306, 399), (416, 253), (334, 307), (296, 289), (410, 143), (316, 433), (242, 443), (32, 429), (302, 55), (108, 373), (470, 443), (104, 157), (426, 371), (380, 445), (6, 451), (256, 213), (350, 279), (452, 465), (430, 179), (228, 245), (362, 223), (284, 245), (474, 419), (192, 133), (498, 475), (180, 41), (494, 67), (280, 473), (402, 279), (124, 201), (130, 87), (304, 313), (190, 243), (84, 433), (318, 427), (140, 417), (114, 79), (92, 161), (102, 283), (8, 45), (262, 407), (200, 21), (42, 447), (324, 425), (282, 111), (344, 109), (66, 279), (336, 425), (366, 279), (452, 1), (234, 375), (352, 365), (14, 23), (72, 5), (466, 227), (416, 193), (98, 167), (244, 205), (274, 119), (320, 189), (278, 387), (76, 421), (142, 311), (432, 481), (218, 475), (308, 461), (410, 327), (268, 253), (194, 319), (224, 197), (438, 367), (492, 61), (54, 375), (388, 229), (346, 99), (344, 473), (478, 59), (228, 373), (330, 279), (200, 481), (426, 427), (404, 145), (278, 363), (376, 165), (346, 275), (400, 345), (238, 151), (432, 313), (478, 251), (320, 65), (206, 383), (148, 89), (438, 347), (448, 93), (450, 19), (92, 85), (378, 331), (216, 313), (358, 43), (38, 263), (212, 41), (138, 339), (480, 457), (354, 115), (340, 21), (2, 243), (272, 65), (182, 15), (460, 193), (466, 87), (180, 21), (190, 187), (108, 377), (74, 295), (448, 253), (102, 495), (32, 473), (442, 339), (500, 477), (170, 91), (44, 57), (378, 23), (340, 237), (110, 483), (432, 177), (190, 371), (472, 269), (186, 95), (168, 381), (234, 435), (400, 361), (42, 339), (84, 313), (210, 167), (496, 425), (254, 403), (48, 153), (270, 343), (448, 269), (478, 215), (200, 441), (374, 183), (320, 193), (326, 347), (484, 409), (254, 443), (132, 357), (442, 115), (352, 421), (146, 171), (500, 105), (264, 145), (110, 211), (92, 225), (234, 331), (248, 365), (414, 55), (492, 1), (482, 151), (52, 85), (138, 187), (440, 497), (446, 299), (80, 457), (98, 31), (184, 389), (374, 43), (124, 297), (326, 95), (332, 89), (182, 107), (24, 425), (462, 55), (396, 81), (142, 111), (276, 369), (20, 141), (370, 3), (272, 157), (354, 147), (340, 125), (350, 227), (60, 321), (342, 55), (128, 61), (94, 67), (236, 377), (406, 175), (80, 73), (226, 431), (172, 465), (86, 215), (428, 273), (498, 311), (284, 353), (458, 251), (12, 5), (362, 459), (412, 357), (374, 315), (208, 57), (118, 483), (240, 369), (482, 127), (416, 185), (362, 415), (460, 117), (342, 207), (28, 389), (194, 443), (232, 361), (394, 295), (456, 401), (430, 75), (132, 493), (338, 283), (496, 393), (278, 79), (264, 349), (274, 159), (8, 397), (110, 375), (64, 201), (30, 351), (44, 89), (382, 479), (492, 93), (86, 63), (272, 141), (190, 11), (376, 153), (238, 143), (388, 121)]

print(dominance(P))